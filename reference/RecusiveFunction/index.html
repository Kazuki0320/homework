<!DOCTYPE html>
<html lang="ja">
<script>
//【再帰関数】
/*
・再帰関数は、自分自身を呼び出す関数のことを指します。
再帰関数は、問題を小さな部分に分割して、それぞれを解決し、最終的に問題全体を解決するという手法によく用いられます。
再帰関数は、ループに比べて実装が簡単な場合があるため、特に再帰的な構造を持つデータの処理によく用いられます。
再帰関数は、基本的には2つのパートから構成されます。最初のパートは、再帰関数の呼び出しを終了させるためのベースケースを記述する部分です。2番目のパートは、問題を小さくしていくために再帰関数を呼び出す再帰呼び出しの部分です。
*/
function sum(n) {
	if (n === 1) {
		return 1;
	} else {
		return n + sum(n - 1)
	}
};

console.log(sum(3));

/*
この時のスタックの動きを表すとこうなって
| n + sum(1) |
| n + sum(2) |
| n + sum(3) |
| n + sum(4) |
|    sum(5)     |
|___________|
↓
| n + sum(1) |
| n + sum(2) |
| n + sum(3) |
| n + sum(4) |
|    sum(5)     |
|___________|
n + sum(1)
…
sum(5)
の順に評価されるから
1      // return 1
2 + 1  // n + sum(1)
3 + 3  // n + sum(2)
4 + 6  // n + sum(3)
5 + 10 // n + sum(4)

出力: 15となる
*/

//[実際に呼び出された場合の処理:sum(3)が渡された場合]
// function sum(3) {
// 	if (3 === 1) {
// 		return 1;
// 	} else {
// 		return 3 + function sum(3-1) {
// 			if (2 === 1) {
// 				return 1;
// 			} else {
// 				return 2 + function sum(2-1) {
// 					if (1 === 1) {
// 						return 1;
// 					} else {
// 						return 1 + sum(1 - 1)
// 					}
// 				}
// 			}
// 		}
// 	}
// };

// console.log(sum(3));
</script>
</html>